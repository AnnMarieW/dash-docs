This guide will provide you with the necessary steps to successfully 
migrate your existing Dash apps to your Dash Enterprise Server. It is 
aimed at user who already have Dash apps running locally. 
If you haven't already created a dash app we recommend trying out 
Dash Enterprise Sample Apps & Templates.

Every sample app and template is deploy ready and contains all of the 
necessary configuration files. 
{url_sample_app}

## Getting Started

There are two recommended ways to migrate your Dash apps:

1. **Deploying your app from Workspaces**
2. **Deploying your app from your local environment**

In both case, your app and associated files will need
to meet Dash Enterprise deployment requirements.

### Requirements

Before deploying your Dash app, you must include a **requirements.txt**, 
**Procfile** and **app.py** in your project folder. All other files and 
assets used by your app must also be in the project folder.

- `requirements.txt`, lists your app's Python dependencies and must include 
    `gunicorn`.

- `Procfile`, describes what processes are run during app startup.

    ```
    web: gunicorn app:server --workers 4
    ```

- `app.py`, is the file called by the command you specified in your 
    `Procfile`. It contains your app's source code and must also include 
    `server = app.server`. 

     ```
     import dash
     import dash_design_kit as ddk
     import dash_core_components as dcc
     import dash_html_components as html
     from dash.dependencies import Input, Output
     app = dash.Dash(__name__)
     server = app.server
     ...
     ```

{url_requirements}

---

## App Migration

### Migrate your App from Workspaces

1. Make sure your app and project folder meet all deployment requirements. 
    {url_requirements}
2. Initialize your app with the Enterprise App Manager. 
    {url_initialize}
3. Create a Workspace containing a sample app.
    {url_workspaces}
4. Open Workspace IDE and delete sample app files.
    {url_workspaces_ide}
5. Copy and paste your project folder into the Workspace.
6. Deploy your app from the Workspace terminal to Enterprise server by 
    running git instructions generated by the App Manager.
    {url_deployment}

### Migrate Your App from your Local Environment

1. Make sure your app and project folder meet all deployment requirements.
    {url_requirements} 
2. Initialize your app with the Enterprise App Manager.
    {url_initialize}  
3. Deploy your app from the Workspace terminal to Enterprise server by 
    running git instructions generated by the App Manager.
    {url_deployment} 

---

## Other Considerations

### Networking Differences: Local vs Remote

After deploying your app to the enterprise server, you may notice
changes to its responsiveness. This is especially true if your app previously ran
on in a **local** environment and directly read file data.

The main performance limiters for Dash apps are callbacks.
They are slowed when transporting large sets of data over a 
network. This affects data transfer times and
how quickly your app loads.
As a result, more attentions needs to be brought to callbacks and dataflow.
We highly recommend using our [Dash Dev Tools Callback Graph](/devtools) to 
assess and debug your Dash app's callbacks.

{url_performance}

### Working with Large Data Files

If your app can read directly from data files (rather than a database or an API),  
then you have three options for reading these files:

- **Commit the files** into your project folder. Projects with large 
    data files can become difficult to share between systems & people and 
    so we recommend trying to keep your project less than 100MB. We 
    recommend trying the **Parquet** data format to make your data files 
    smaller and faster to read. A 200MB CSV can be saved as a 40MB Parquet 
    file and read in 50ms instead of 3.5s.
- **Copy the files** onto the Dash Enterprise server and 
    map a directory from your server to the Dash app container You may need 
    to discuss this option with your IT admin to gain access to your server 
    or to have them transfer files for you.
- **Store the data** on a cloud service like AWS S3 or Azure Blob Storage.

### Health Checks

If your app relies on loading large amounts of data or connecting to APIs, 
we recommend adding health checks to your project folder in the  form 
of a `CHECKS` file.  This file allows your to modify the amount of time 
your app has to load data or connect to an API, the number of checks 
carried out and if necessary include delays. This file is also used to 
verify if certain assets being served by the app. {url_requirements}

### Troubleshooting with Workspaces

There are frequently many difference between your local environment and 
the containerized dash runs your app in. Workspaces provides the exact 
environment as your deployment server. It cannot be overstated that best 
way to troubleshoot your dash apps is to open them up in Dash Workspace. 
Workspaces provides you with a containerize controlled environment where 
all system dependencies and variables affecting the app can be isolated. 
You can also quickly access your app server log to check for deployment 
issues.{url_workspaces} 

### Working with Redis  

If your app needs to connect to a Redis database, see our 
[Redis Docs](/dash-enterprise/redis-database)
for details.

### Private Packages
sho
If your app depends on private dependencies, see our 
[Private Packages Doc](/dash-enterprise/private-packages)
for details.

### Environment Variables

If your app depends on environment variables to store things like secrets. 
Those variable can be specified via your app settings page. 

See [Setting Environment Variable](/dash-enterprise/environment-variables)
for more details.

### Mapping Local Directories

Each command listed in your Procfile is executed in a separate Docker 
container and Docker containers have ephemeral file systems.
So, if your worker processes (e.g. celery) are writing these files, then 
you will need to map a directory from your server to the Dash app container 
so that the files are saved to the underlying server and are accessible by 
your web processes.
Note that mapping directories is not currently supported in Dash Enterprise 
on Kubernetes.

See [Mapping Local Directories](/dash-enterprise/map-local-directories) 
for more details.